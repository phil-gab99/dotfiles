MODULE main
VAR
    p, q, r, t: boolean;
    state: {s0, s1, s2, s3};
ASSIGN
    init(state) := s0;
    next(state) :=
        case
          state = s0 & r = TRUE: s0;
          state = s0 & p = TRUE & q = TRUE: s3;
          state = s0 & p = TRUE & t = TRUE & r = TRUE: s1;
          state = s1 & q = TRUE & r = TRUE: s2;
          state = s2 & p = TRUE & t = TRUE & r = TRUE: s1;
          state = s3 & q = TRUE & r = TRUE: s2;
        esac
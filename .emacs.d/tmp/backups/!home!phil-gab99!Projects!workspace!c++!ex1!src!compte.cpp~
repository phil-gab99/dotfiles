#include <iostream>

#include "compte.h"

using namespace std;

/**
 * Defines the set of operations of the different bank account types.
 *
 * 2021-12-09
 * Philippe Gabriel
 * Étienne Ameye
 */


// comptBanq definitions
comptBanq::comptBanq(int num, double solde) : num(num), solde(solde) {}

int comptBanq::getNum() const {
    return num;
}

void comptBanq::setNum(int num) {
    this->num = num;
}

double comptBanq::getSolde() const {
    return solde;
}

void comptBanq::depotRetrait(double amount) {
    solde += amount;
}


// comptCheque definitions
comptCheque::comptCheque(int num, double solde, double soldeMin,
                         double monthlyFee, double serviceFee) :
    comptBanq(num, solde), soldeMin(soldeMin), monthlyFee(monthlyFee),
    serviceFee(serviceFee) {}

double comptCheque::getSoldeMin() const {
   return soldeMin;
}

void comptCheque::setSoldeMin(double soldeMin) {
    this->soldeMin = soldeMin;
}

void comptCheque::setFrais(double monthlyFee, double serviceFee) {
    this->monthlyFee = monthlyFee;
    this->serviceFee = serviceFee;
}

void comptCheque::depotRetrait(double amount) {
    comptBanq::depotRetrait(amount);
    if (getSolde() < soldeMin) comptBanq::depotRetrait(serviceFee);
}

void comptCheque::displayAccountInfo() const {
    cout << "\t\tCompte Chèque:\n\t\t\tNuméro: " << getNum()
         << "\n\t\t\tSolde: " << getSolde() << "\n\t\t\tSolde minimum: "
         << soldeMin << "\n\t\t\tFrais mensuels: " << monthlyFee
         << "\n\t\t\tFrais de service: " << serviceFee << "\n\n";
}


// comptEpargne definitions
comptEpargne::comptEpargne(int num, double solde, double interets) :
    comptBanq(num, solde), interets(interets) {}

void comptEpargne::setInterets(double interets) {
    this->interets = interets;
}

void comptEpargne::displayAccountInfo() const {
    cout << "\t\tCompte Épargne:\n\t\t\tNuméro: " << getNum()
         << "\n\t\t\tSolde: " << getSolde() << "\n\t\t\tIntérêts: " << interets
         << "\n\n";
}

References: <R5XOXDV6PX@zendesk.com> <R5XOXDV6PX_61f9bbb620711_383fde3aacb9644336fd_sprut@zendesk.com> <R5XOXDV6PX_61f8b1d198174_3c3fcedcecb964710e8_sprut@zendesk.com> <SA2PR02MB77709E98D895E71F5940E18CF0279@SA2PR02MB7770.namprd02.prod.outlook.com> <R5XOXDV6PX_61fb1a9d15843_3b3fb2fd0cb9683073dc_sprut@zendesk.com>
User-agent: mu4e 1.6.10; emacs 28.0.91
From: Philippe Gabriel <pgabriel999@hotmail.com>
To: System76 <help@system76.com>
Subject: Re: [System76] Re: lemp10 charging thresholds
Date: Wed, 02 Feb 2022 19:01:10 -0500
In-reply-to: <R5XOXDV6PX_61fb1a9d15843_3b3fb2fd0cb9683073dc_sprut@zendesk.com>
--text follows this line--
#+OPTIONS: html-postamble:nil toc:nil author:nil num:nil \n:t d:nil
#+STARTUP: indent inlineimages hidestars
:PROPERTIES:
:reply-to: ("/tmp/org-msgmS4JoA.html")
:attachment: nil
:alternatives: (text org html)
:END:

Hi Nathaniel,

Here is the output for ~sudo dmidecode~:

#+begin_src shell

  # dmidecode 3.2
  Getting SMBIOS data from sysfs.
  SMBIOS 3.3.0 present.
  # SMBIOS implementations newer than version 3.2.0 are not
  # fully supported by this version of dmidecode.
  Table at 0xA7F964000.

  Handle 0x0000, DMI type 0, 26 bytes
  BIOS Information
          Vendor: coreboot
          Version: 2022-01-06_c73e482
          Release Date: 01/05/2022
          ROM Size: 16 MB
          Characteristics:
                  PCI is supported
                  PC Card (PCMCIA) is supported
                  BIOS is upgradeable
                  Selectable boot is supported
                  ACPI is supported
                  Targeted content distribution is supported
          BIOS Revision: 4.15
          Firmware Revision: 0.0

  Handle 0x0001, DMI type 1, 27 bytes
  System Information
          Manufacturer: System76
          Product Name: Lemur Pro
          Version: lemp10
          Serial Number: 123456789
          UUID: Not Settable
          Wake-up Type: Reserved
          SKU Number: Not Specified
          Family: Not Specified

  Handle 0x0002, DMI type 2, 14 bytes
  Base Board Information
          Manufacturer: System76
          Product Name: Lemur Pro
          Version: lemp10
          Serial Number: 123456789
          Asset Tag: Not Specified
          Features: None
          Location In Chassis: Not Specified
          Chassis Handle: 0x0003
          Type: Motherboard

  Handle 0x0003, DMI type 3, 22 bytes
  Chassis Information
          Manufacturer: System76
          Type: Laptop
          Lock: Not Present
          Version: Not Specified
          Serial Number: Not Specified
          Asset Tag: Not Specified
          Boot-up State: Safe
          Power Supply State: Safe
          Thermal State: Safe
          Security Status: None
          OEM Information: 0x00000000
          Height: Unspecified
          Number Of Power Cords: 1
          Contained Elements: 0
          SKU Number: Not Specified

  Handle 0x0004, DMI type 4, 48 bytes
  Processor Information
          Socket Designation: CPU0
          Type: Central Processor
          Family: Pentium Pro
          Manufacturer: GenuineIntel
          ID: C1 06 08 00 FF FB EB BF
          Signature: Type 0, Family 6, Model 140, Stepping 1
          Flags:
                  FPU (Floating-point unit on-chip)
                  VME (Virtual mode extension)
                  DE (Debugging extension)
                  PSE (Page size extension)
                  TSC (Time stamp counter)
                  MSR (Model specific registers)
                  PAE (Physical address extension)
                  MCE (Machine check exception)
                  CX8 (CMPXCHG8 instruction supported)
                  APIC (On-chip APIC hardware supported)
                  SEP (Fast system call)
                  MTRR (Memory type range registers)
                  PGE (Page global enable)
                  MCA (Machine check architecture)
                  CMOV (Conditional move instruction supported)
                  PAT (Page attribute table)
                  PSE-36 (36-bit page size extension)
                  CLFSH (CLFLUSH instruction supported)
                  DS (Debug store)
                  ACPI (ACPI supported)
                  MMX (MMX technology supported)
                  FXSR (FXSAVE and FXSTOR instructions supported)
                  SSE (Streaming SIMD extensions)
                  SSE2 (Streaming SIMD extensions 2)
                  SS (Self-snoop)
                  HTT (Multi-threading)
                  TM (Thermal monitor supported)
                  PBE (Pending break enabled)
          Version: 11th Gen Intel(R) Core(TM) i7-1165G7 @ 2.80GHz
          Voltage: Unknown
          External Clock: 100 MHz
          Max Speed: Unknown
          Current Speed: 2800 MHz
          Status: Populated, Enabled
          Upgrade: Unknown
          L1 Cache Handle: 0x0006
          L2 Cache Handle: 0x0007
          L3 Cache Handle: 0x0008
          Serial Number: Not Specified
          Asset Tag: Not Specified
          Part Number: Not Specified
          Core Count: 4
          Core Enabled: 4
          Thread Count: 8
          Characteristics:
                  Hardware Thread
                  Execute Protection
                  Enhanced Virtualization

  Handle 0x0005, DMI type 7, 27 bytes
  Cache Information
          Socket Designation: CACHE1
          Configuration: Enabled, Not Socketed, Level 1
          Operational Mode: Unknown
          Location: Internal
          Installed Size: 192 kB
          Maximum Size: 192 kB
          Supported SRAM Types:
                  Unknown
          Installed SRAM Type: Unknown
          Speed: Unknown
          Error Correction Type: Unknown
          System Type: Data
          Associativity: 12-way Set-associative

  Handle 0x0006, DMI type 7, 27 bytes
  Cache Information
          Socket Designation: CACHE1
          Configuration: Enabled, Not Socketed, Level 1
          Operational Mode: Unknown
          Location: Internal
          Installed Size: 128 kB
          Maximum Size: 128 kB
          Supported SRAM Types:
                  Unknown
          Installed SRAM Type: Unknown
          Speed: Unknown
          Error Correction Type: Unknown
          System Type: Instruction
          Associativity: 8-way Set-associative

  Handle 0x0007, DMI type 7, 27 bytes
  Cache Information
          Socket Designation: CACHE2
          Configuration: Enabled, Not Socketed, Level 2
          Operational Mode: Unknown
          Location: Internal
          Installed Size: 5120 kB
          Maximum Size: 5120 kB
          Supported SRAM Types:
                  Unknown
          Installed SRAM Type: Unknown
          Speed: Unknown
          Error Correction Type: Unknown
          System Type: Unified
          Associativity: 20-way Set-associative

  Handle 0x0008, DMI type 7, 27 bytes
  Cache Information
          Socket Designation: CACHE3
          Configuration: Enabled, Not Socketed, Level 3
          Operational Mode: Unknown
          Location: Internal
          Installed Size: 12288 kB
          Maximum Size: 12288 kB
          Supported SRAM Types:
                  Unknown
          Installed SRAM Type: Unknown
          Speed: Unknown
          Error Correction Type: Unknown
          System Type: Unified
          Associativity: 12-way Set-associative

  Handle 0x0009, DMI type 16, 23 bytes
  Physical Memory Array
          Location: System Board Or Motherboard
          Use: System Memory
          Error Correction Type: None
          Maximum Capacity: 128 GB
          Error Information Handle: Not Provided
          Number Of Devices: 2

  Handle 0x000A, DMI type 17, 40 bytes
  Memory Device
          Array Handle: 0x0009
          Error Information Handle: Not Provided
          Total Width: 64 bits
          Data Width: 64 bits
          Size: 8192 MB
          Form Factor: SODIMM
          Set: None
          Locator: Channel-0-DIMM-0
          Bank Locator: BANK 0
          Type: DDR4
          Type Detail: Unknown Synchronous
          Speed: 3200 MT/s
          Manufacturer: Samsung
          Serial Number: 00000000
          Asset Tag: Channel-0-DIMM-0-AssetTag
          Part Number: M471A1G44AB0-CWE
          Rank: 1
          Configured Memory Speed: 3200 MT/s
          Minimum Voltage: 1.2 V
          Maximum Voltage: 1.2 V
          Configured Voltage: 1.2 V

  Handle 0x000B, DMI type 17, 40 bytes
  Memory Device
          Array Handle: 0x0009
          Error Information Handle: Not Provided
          Total Width: 64 bits
          Data Width: 64 bits
          Size: 32 GB
          Form Factor: SODIMM
          Set: None
          Locator: Channel-0-DIMM-0
          Bank Locator: BANK 0
          Type: DDR4
          Type Detail: Unknown Synchronous
          Speed: 3200 MT/s
          Manufacturer: Unknown (4589)
          Serial Number: 02323201
          Asset Tag: Channel-0-DIMM-0-AssetTag
          Part Number: NMSO432F82-3200E
          Rank: 2
          Configured Memory Speed: 3200 MT/s
          Minimum Voltage: 1.2 V
          Maximum Voltage: 1.2 V
          Configured Voltage: 1.2 V

  Handle 0x000C, DMI type 19, 31 bytes
  Memory Array Mapped Address
          Starting Address: 0x00000000000
          Ending Address: 0x009FFFFFFFF
          Range Size: 40 GB
          Physical Array Handle: 0x0009
          Partition Width: 2

  Handle 0x000D, DMI type 20, 35 bytes
  Memory Device Mapped Address
          Starting Address: 0x00000000000
          Ending Address: 0x001FFFFFFFF
          Range Size: 8 GB
          Physical Device Handle: 0x000A
          Memory Array Mapped Address Handle: 0x000C
          Partition Row Position: Unknown
          Interleave Position: Unknown
          Interleaved Data Depth: Unknown

  Handle 0x000E, DMI type 20, 35 bytes
  Memory Device Mapped Address
          Starting Address: 0x00200000000
          Ending Address: 0x009FFFFFFFF
          Range Size: 32 GB
          Physical Device Handle: 0x000A
          Memory Array Mapped Address Handle: 0x000C
          Partition Row Position: Unknown
          Interleave Position: Unknown
          Interleaved Data Depth: Unknown

  Handle 0x000F, DMI type 32, 11 bytes
  System Boot Information
          Status: No errors detected

  Handle 0x0010, DMI type 41, 11 bytes
  Onboard Device
          Reference Designation: VGA compatible controller
          Type: Video
          Status: Enabled
          Type Instance: 0
          Bus Address: 0000:00:02.0

  Handle 0x0011, DMI type 133, 5 bytes
  OEM-specific Type
          Header and Data:
                  85 05 11 00 01
          Strings:
                  KHOIHGIUCCHHII

  Handle 0xFEFF, DMI type 127, 4 bytes
  End Of Table

#+end_src

Thanks again and have a nice day!

Regards,

*--*
Philippe Gabriel - 

--citation follows this line (read-only)--
"Nathaniel Warburton (System76)" <help@system76.com> writes:

,*        
Your request (50724) has been updated. To add additional comments, reply to this email.        

,*  Nathaniel Warburton (System76)             

Feb 2, 2022, 4:58 PM MST             

Hi Philppe,            



Thanks for that output. It looks like the package is installed            
just fine.            



Could you also provide:            



sudo dmidecode            


Thanks!            



Nathaniel            

,*  Philippe Gabriel             

Feb 1, 2022, 6:30 PM MST             

Hi Nathaniel,            

Thanks for the quick response. Here is the output of the apt policy system76-dkms command:            

system76-dkms:            
Installed: 1.0.13~1630342318~20.04~68bd479~dev            
Candidate: 1.0.13~1630342318~20.04~68bd479~dev            
Version table:            
,*** 1.0.13~1630342318~20.04~68bd479~dev 500            
500 http://ppa.launchpad.net/system76-dev/stable/ubuntu focal/main amd64 Packages            
100 /var/lib/dpkg/status            

Regards,            

--            

Philippe Gabriel -            

,*  Nathaniel Warburton (System76)             

Feb 1, 2022, 4:01 PM MST             

Hello Philippe,            



Thanks for reaching out and providing that information. I'm happy to help!            



Based on your report, I touched base with our QA team and they confirmed that the January firmware update did            
not remove charging thresholds and seems to still be working in their master file on the Lemp 10. So it doesn't look            
like that firmware update in particular would have affected the charging thresholds.            



We are in the process of doing some firmware revisions (in fact that most recent January update has been rolled            
back).            



Let's still see if we can figure out what is happening here.            

Please the output of the Terminal command:            



apt policy system76-dkms            


Best,            



Nathaniel            

,*  Philippe Gabriel             

Jan 31, 2022, 9:06 PM MST             

Recent changes to system: Using emacs EXWM desktop session instead of the default.            

OS and version: Ubuntu 20.04.3 LTS            

Hi, I have bought this laptop somewhere around past mid 2021 and I have really enjoyed it so far, it has everything I            
could ever need and much more. One of the features I loved a lot about this model is that it supported setting one's            
own charging thresholds to preserve battery life. I had followed this reddit post's            
(https://www.reddit.com/r/System76/comments/kcqt9o/how_to_enable_and_control_charging_thresholds_on/) advice            
on the matter as well as an article on your website about the matter.            

Although recently I noticed these thresholds not working on my machine anymore. It was around the time I had            
installed the last firmware update which came out around 6th of January. I hadn't installed immediately then, but I            
had noticed that after I did update, the next day I started using the laptop, trying to set the thresholds wouldn't work            
anymore. And when I try to run a command using the `system76-power` package to change the thresholds, I receive            
a message that I hadn't received previously: daemon returned an error message: "Not running System76 firmware            
with charge threshold support".            

At first it didn't bother me so much, I thought I'd make do until the next firmware update where it would be fixed            
hopefully. But now I am a little worried because it has been a couple of weeks since I have not been using the charge            
threshold feature and I haven't found anything on either the GitHub repo or on reddit any body with a similar issue.            

Should I expect everything to be fixed by the next firmware update? Is there anything I should do now? Is there any            
other information you need me to provide?            

Thank you for your time and have nice day!            
This email is a service from System76. Delivered by Zendesk           
,*
,*
,*
,*
,*
[R5XOXD-V6PX] 


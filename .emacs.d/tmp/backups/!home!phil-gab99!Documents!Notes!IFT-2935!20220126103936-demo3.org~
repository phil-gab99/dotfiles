:PROPERTIES:
:ID:       6cc17b67-f213-4bf7-8276-c13d7298707a
:END:
#+title: ift2935-demo3
#+STARTUP: latexpreview inlineimages
#+date: [2022-01-26 Wed 10:39]

* Exercice 1

- ~Joueur(pseudonyme, classe, niveau, #nom_equipe, #nom_arme)~
- ~Equipe(_nom_equipe_, score)~
- ~Arme(_nom_arme_, puissance, element)~

  
1) É́crire une requête qui retourne les joueurs qui font partie de l’équipe "Bleu"

   $\sigma_{\mathrm{#nom\_equipe} = \mathrm{'Bleu'}} (\mathrm{Joueur})$


2) Une requête qui retourne les pseudonymes de tous les joueurs

   $\pi_\mathrm{pseudonyme} (\mathrm{Joueur})$


3)  La liste des noms des armes appartenant aux joueurs des équipes ayant un score supérieur ou égal à 50
   
   $\mathrm{e1} \leftarrow \sigma_{\mathrm{score} \geq 50} (\mathrm{Equipe})$
   $\mathrm{j1} \leftarrow \mathrm{e1} \Join \mathrm{Joueur}$
   $\pi_\mathrm{\#nom\_arme}(\mathrm{j1})$


4) Retourner pour tous les joueurs leur pseudonyme, classe et niveau renommés respectivement nom, race et rang.

   $\rho_\mathrm{nom, race, rang}(\pi_\mathrm{pseudonyme, classe, niveau} (\mathrm{Joueur}))$

   
5) Retourner le nombre de joueurs de chaque classe

   $\mathrm{r1} \leftarrow \mathrm{classe}^\mathcal{A} \mathrm{count(pseudonyme)} (\mathrm{Joueur})$
   $\rho_\mathrm{classe, nb\_de\_joueur}(\mathrm{r1})$


6) Quelle est la puissance et l'élément de toutes les armes détenues par des joueurs de niveau supérieur à 90 et qui sont dans une équipe dont le score est inférieur à 40?

   $\mathrm{j1} \leftarrow \sigma_{\mathrm{niveau} > 90} (\mathrm{Joueur})$
   $\mathrm{e1} \leftarrow \sigma_{\mathrm{score} < 40} (\mathrm{Equipe})$
   $\mathrm{j2} \leftarrow \pi_\mathrm{nom\_arme}(\mathrm{j1} \Join \mathrm{e1})$
   $\pi_\mathrm{puissance, element} (\mathrm{Arme} \Join \mathrm{j2})$


7) Quel est le niveau moyen des joueurs de chaque équipe?

   $\mathrm{r1} \leftarrow \mathrm{\#nom\_equipe}^\mathcal{A} \mathrm{average(niveau)} (\mathrm{Joueur})$
   $\rho_\mathrm{equipe, niveau} (\mathrm{r1})$

* Exercice 2

Soient les tables suivantes:

$R$
| A | B | C |
|---+---+---|
| 1 | 1 | 2 |
| 2 | 1 | 4 |
| 3 | 1 | 6 |
| 4 | 1 | 8 |

$S$
| A | B | D |
|---+---+---|
| 1 | 1 | 3 |
| 2 | 1 | 5 |
| 3 | 2 | 7 |

Déterminez leur jointure naturelle $R \Join S$, la jointure gauche $R \Join^L S$, la jointure droite $R \Join^R S$ et la jointure pleine $R \Join^\mathrm{FULL} S$

$R \Join S$ - Condition implicite égalité des valeurs des attributs de même nom dans $R$ et $S$
| A | B | C | D |
|---+---+---+---|
| 1 | 1 | 2 | 3 |
| 2 | 1 | 4 | 5 |

$R \Join^L S$
| A | B | C | D |
|---+---+---+---|
| 1 | 1 | 2 | 3 |
| 2 | 1 | 4 | 5 |
| 3 | 1 | 6 |   |
| 4 | 1 | 8 |   |

$R \Join^R S$
| A | B | C | D |
|---+---+---+---|
| 1 | 1 | 2 | 3 |
| 2 | 1 | 4 | 5 |
| 3 | 2 |   | 7 |

$R \Join^\mathrm{FULL} S$
| A | B | C | D |
|---+---+---+---|
| 1 | 1 | 2 | 3 |
| 2 | 1 | 4 | 5 |
| 3 | 1 | 6 |   |
| 4 | 1 | 8 |   |
| 3 | 2 |   | 7 |

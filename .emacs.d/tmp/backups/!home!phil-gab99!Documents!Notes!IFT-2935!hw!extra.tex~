% Created 2022-02-10 Thu 16:29
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\author{Philippe Gabriel}
\date{\today}
\title{}
\hypersetup{
 pdfauthor={Philippe Gabriel},
 pdftitle={},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 28.0.91 (Org mode 9.5.2)}, 
 pdflang={English}}
\begin{document}

\tableofcontents

\section{a)}
\label{sec:org05c9f08}

\begin{verbatim}

-- a)
WITH md AS (SELECT NumMatricule, CodeHopital
            FROM Medecin
            WHERE SpecialiteMedecin = 'gynecologie'),
     hos AS (SELECT NomHopital, NumMatricule
             FROM md NATURAL JOIN Hopital),
     cons AS (SELECT NumSecSoc, NomHopital
              FROM Consulter NATURAL JOIN hos),
     pat AS (SELECT NomPatient, PrenomPatient, NumSecSoc
             FROM Patient)
SELECT NomPatient, PrenomPatient, NomHopital
FROM pat NATURAL JOIN cons;

\end{verbatim}

\(\mathrm{md} \gets \pi_{\mathrm{NumMatricule, CodeHopital}} (\sigma_{\mathrm{SpecialiteMedecin} = \mathrm{gynecologie}}(\mathrm{Medecin}))\)

\(\mathrm{hos} \gets \pi_{\mathrm{NomHopital, NumMatricule}}(\mathrm{md} \Join \mathrm{Hopital})\)

\(\mathrm{cons} \gets \pi_{\mathrm{NumSecSoc, NomHopital}} (\mathrm{Consulter} \Join \mathrm{hos})\)

\(\mathrm{pat} \gets \pi_\mathrm{NomPatient, PrenomPatient, NumSecSoc} (\mathrm{Patient})\)

\(\pi_{\mathrm{NomPatient, PrenomPatient, NomHopital}} (\mathrm{pat} \Join \mathrm{cons})\)

\begin{center}
\includegraphics[width=.9\linewidth]{/home/phil-gab99/Documents/Notes/IFT-2935/hw/extra.org_20220210_162846_PNHhQr.png}
\end{center}

\section{b)}
\label{sec:orgb6bb67d}

\begin{verbatim}

-- b)
-- Litt√©rale
WITH med AS (SELECT CodeLaboratoire
             FROM Medecin
             WHERE FonctionMedecin = 'chercheur'),
     lab AS (SELECT CodeLaboratoire, NomLaboratoire, CodeHopital
             FROM Laboratoire NATURAL JOIN med)
SELECT *
FROM Laboratoire
EXCEPT (SELECT * FROM lab);

-- Avec sucre syntaxique
SELECT *
FROM Laboratoire
WHERE CodeLaboratoire NOT IN (SELECT CodeLaboratoire
                              FROM Medecin
                              WHERE FonctionMedecin = 'chercheur');


\end{verbatim}

\(\mathrm{med} \gets \pi_\mathrm{CodeLaboratoire} (\sigma_{\mathrm{FonctionMedecin} = \mathrm{'chercheur'}} (\mathrm{Medecin}))\)

\(\mathrm{lab} \gets \pi_\mathrm{CodeLaboratoire, NomLaboratoire, CodeHopital}(\mathrm{Laboratoire} \Join \mathrm{med})\)

\(\mathrm{Laboratoire} - \mathrm{lab}\)
\end{document}
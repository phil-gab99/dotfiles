:PROPERTIES:
:ID:       950e8b15-bc12-4a61-a4b4-07056156404f
:END:
#+title: ift6755-ctl-model-checking
#+STARTUP: latexpreview inlineimages
#+date: [2022-03-30 Wed 08:34]

* CTL Model-Checking

- Receive:
  - Kripke structure $K$
  - Temporal logic formula $f$
- Assumptions:
  - Finite number of processes
    - Each having a finite number of finite-valued variables
  - Finite length of a CTL formula
- Base algorithm:
  - Label states of $K$ with subformulas $f$ that are satisfied there and working outwards towards $f$
  - Output states labeled $f$

Fragment of Kripke structure - Blue dots are states labelled with appropriate subformula

$\mathrm{EX} \ p$
- Label any state with $\mathrm{EX} \ p$ if any of its successors are labled with $p$
[[/home/phil-gab99/Documents/Notes/IFT-6755/20220330083408-ctl_model_checking.org_20220330_083753_4yac8L.png]]

$\mathrm E [p \ \mathrm U \ q]$
- If any state $s$ is labeled with $q$, label it with $\mathrm E[p \ \mathrm U \ q]$
- Repeat - Label any state with $\mathrm E[p \ \mathrm U \ q]$ if it is labeled with $p$ and at least one of its successors is labeled with $\mathrm E[p \ \mathrm U \ q]$ until there is no change
[[/home/phil-gab99/Documents/Notes/IFT-6755/20220330083408-ctl_model_checking.org_20220330_084110_lFRxuM.png]]

$\mathrm{EG} \ p$
- Label every node labeled with $p$ by $\mathrm{EG} \ p$
- Repeat - Remove label $\mathrm{EG} \ p$ from any state that does not have successors labeled by $\mathrm{EG} \ p$ until there is no change
[[/home/phil-gab99/Documents/Notes/IFT-6755/20220330083408-ctl_model_checking.org_20220330_084422_aw9vev.png]] [[/home/phil-gab99/Documents/Notes/IFT-6755/20220330083408-ctl_model_checking.org_20220330_084454_HKmpqj.png]] 

* Counterexamples

Explain why the property fails to hold
- To disprove that $\phi$ holds on all elements of $S$, produce a single element $s \in S$ s. t. $\lnot \phi$ holds on $s$
  - Counterexamples restricted to *unversally*-quantified formulas
  - Counterexamples are paths (trees) from initial state illustrating the failure of property
[[/home/phil-gab99/Documents/Notes/IFT-6755/20220330083408-ctl_model_checking.org_20220330_084702_pDRoEZ.png]]

Negate the proposition and express using $\mathrm{EX, EU, EG}$
- Ex.: $\mathrm{AG}(p \to \mathrm{AF} \ q)$ becomes $\mathrm{EF}(p \land \mathrm{EG} \ \lnot q)$
- Then:
  - $\mathrm{EX} \ p$ - Find a successor state labeled with $p$
    [[/home/phil-gab99/Documents/Notes/IFT-6755/20220330083408-ctl_model_checking.org_20220330_085159_QmckIw.png]]

  - $\mathrm{EG} \ p$ - Follow successors labeled with $\mathrm{EG} \ p$ until a loop is found
    [[/home/phil-gab99/Documents/Notes/IFT-6755/20220330083408-ctl_model_checking.org_20220330_085237_XeYUpU.png]]

  - $\mathrm E [p \ \mathrm U \ q]$ - Remove all states not labeled with $p$ or $q$, tben look for path to $q$
   [[/home/phil-gab99/Documents/Notes/IFT-6755/20220330083408-ctl_model_checking.org_20220330_085337_GyWRQP.png]]

This procedure works only for universal properties:
- $\mathrm{AX} \ p$
- $\mathrm{AG}(p \to \mathrm{AF} \ q)$
- etc...
